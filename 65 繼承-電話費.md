# 1. 繼承-電話費

#### (1) 儲存架構
``` python
   |__<ntub>
   |    |__ m01.py
   |
   |__ p01.py
```   
   

#### (2) 類別架構
``` python
                              Phone 
                          (電話費, 父親)
                                ^
                                | (繼承)
        |-----------------------|-----------------------|
        |                       |                       |
   RegularPhone             A499Phone               ComPhone
(一般電話費, 兒子)        (A499電話費, 兒子)        (公司電話費, 兒子)     
   
  
註:
1. 「一般電話費」的「通話費」計算方式:
    每秒0.045元, 小數無條件進位.


2. 「A499電話費」的「通話費」計算方式:
    (1) 通話300秒(含)以內:
        0元.
        
    (2) 通話300秒以上 不到500秒:
        前300秒免費;
        超過300秒部分, 每多1秒0.073元.
        
    (3) 通話500秒(含)以上 不到600秒:
        前300秒免費;
        超過300秒部分, 每多1秒0.043元.        

    (4) 通話600秒(含)以上: 
        前300秒免費;
        超過300秒部分, 每多1秒0.05元.
        
    (5) 小數無條件進位.   
    

3. 「公司電話費」的「通話費」計算方式:
    (1) 如果是'A'等級:
        (a) 通話600秒(含)以上, 每秒0.012元;         
        (b) 通話0~599秒, 每秒0.018元;        

    (2) 如果是'B'等級:
        (a) 通話800秒(含)以上, 每秒0.013元;         
        (b) 通話600~799秒, 每秒0.019元;
        (c) 通話0~599秒, 每秒0.023元;   

    (3) 如果不是'A', 也不是'B'等級:
        (a) 通話600秒(含)以上, 每秒0.021元;         
        (b) 通話500~599秒, 每秒0.027元;
        (c) 通話300~499秒, 每秒0.031元;    
        (d) 通話0~299秒, 每秒0.035元.
        
    (4) 小數無條件進位.         
```

#### (3) m01.py

``` python
import abc
from datetime import datetime

#-------------------------
# 電話費, 父類別(已完成)
#-------------------------
class Phone(abc.ABC):
    # 傳入編號, 通話開始時間, 通話結束時間
    def __init__(self, no, startTime, endTime):
        self.no = no
        self.startTime = startTime
        self.endTime = endTime

    # 通話時間(秒數)
    def duration(self):
        # 將傳入的字串, 轉成日期格式
        dt_start = datetime.strptime(self.startTime, "%Y-%m-%d %H:%M:%S")
        dt_end = datetime.strptime(self.endTime, "%Y-%m-%d %H:%M:%S")  

        # 計算間隔的秒數
        seconds = (dt_end - dt_start).total_seconds()

        # 回傳
        return seconds 

    # 通話費, 抽象方法  
    @abc.abstractmethod
    def fee(self):
        return NotImplemented


#----------------------------
# 一般電話費, 子類別(未完成)
#----------------------------
class RegularPhone(Phone):
    # 傳入編號, 通話開始時間, 通話結束時間
    def __init__(self, no, startTime, endTime):   

    # 通話費


#----------------------------
# A499電話費, 子類別(未完成)
#----------------------------
class A499Phone(Phone):
    # 傳入編號, 通話開始時間, 通話結束時間
    def __init__(self, no, startTime, endTime):

    # 通話費


#----------------------------
# 公司電話費, 子類別(未完成)
#----------------------------
class ComPhone(Phone):
    # 傳入編號, 通話開始時間, 通話結束時間, 租用等級
    def __init__(self, no, startTime, endTime, rank):

    # 通話費
```

#### (4) p01.py(已完成)
``` python
# 匯入模組中的類別
from ntub.m01 import RegularPhone, A499Phone, ComPhone

# 儲存多個通話費
phones = []

# 產生物件清單
phones.append(RegularPhone('001', '2020-6-1 00:12:21', '2020-6-1 00:18:34'))
phones.append(RegularPhone('002', '2020-6-1 00:14:05', '2020-6-1 00:14:59'))
phones.append(RegularPhone('003', '2020-6-1 00:18:10', '2020-6-1 00:22:24'))

phones.append(A499Phone('004', '2020-6-1 00:12:24', '2020-6-1 00:28:14'))
phones.append(A499Phone('005', '2020-6-1 00:15:05', '2020-6-1 00:16:59'))
phones.append(A499Phone('006', '2020-6-1 00:23:10', '2020-6-1 00:36:24'))
phones.append(A499Phone('007', '2020-6-1 00:25:13', '2020-6-1 00:32:17'))
phones.append(A499Phone('008', '2020-6-1 00:35:20', '2020-6-1 00:44:54'))

phones.append(ComPhone('009', '2020-6-1 00:12:24', '2020-6-1 00:28:14', 'A'))
phones.append(ComPhone('010', '2020-6-1 00:15:05', '2020-6-1 00:16:59', 'A'))
phones.append(ComPhone('011', '2020-6-1 00:23:10', '2020-6-1 00:36:24', 'A'))
phones.append(ComPhone('012', '2020-6-1 00:25:13', '2020-6-1 00:32:17', 'A'))
phones.append(ComPhone('013', '2020-6-1 00:35:20', '2020-6-1 00:44:54', 'A'))

phones.append(ComPhone('014', '2020-6-1 00:12:24', '2020-6-1 00:28:14', 'B'))
phones.append(ComPhone('015', '2020-6-1 00:15:05', '2020-6-1 00:16:59', 'B'))
phones.append(ComPhone('016', '2020-6-1 00:23:10', '2020-6-1 00:36:24', 'B'))
phones.append(ComPhone('017', '2020-6-1 00:25:13', '2020-6-1 00:32:17', 'B'))
phones.append(ComPhone('018', '2020-6-1 00:35:20', '2020-6-1 00:44:54', 'B'))

phones.append(ComPhone('019', '2020-6-1 00:12:24', '2020-6-1 00:28:14', 'C'))
phones.append(ComPhone('020', '2020-6-1 00:15:05', '2020-6-1 00:16:59', 'C'))
phones.append(ComPhone('021', '2020-6-1 00:23:10', '2020-6-1 00:36:24', 'C'))
phones.append(ComPhone('022', '2020-6-1 00:25:13', '2020-6-1 00:32:17', 'C'))
phones.append(ComPhone('023', '2020-6-1 00:35:20', '2020-6-1 00:44:54', 'C'))

# 依序取出清單中的物件, 進行處理
total=0
for p in phones:
    total = total + p.fee()
    print('編號:{}, 通話費:{:,.0f}元'.format(p.no, p.fee()))  

print('-'*30)
print('總通話費:{:,.0f}元'.format(total)) 
print('-'*30)       
```


#### (5) 執行結果

``` python
編號:001(一般電話費), 通話費:17元
編號:002(一般電話費), 通話費:3元
編號:003(一般電話費), 通話費:12元
編號:004(專案499), 通話費:23元
編號:005(專案499), 通話費:0元
編號:006(專案499), 通話費:18元
編號:007(專案499), 通話費:10元
編號:008(專案499), 通話費:12元
編號:009(公司電話費), 通話費:12元
編號:010(公司電話費), 通話費:3元
編號:011(公司電話費), 通話費:10元
編號:012(公司電話費), 通話費:8元
編號:013(公司電話費), 通話費:11元
編號:014(公司電話費), 通話費:13元
編號:015(公司電話費), 通話費:3元
編號:016(公司電話費), 通話費:16元
編號:017(公司電話費), 通話費:10元
編號:018(公司電話費), 通話費:14元
編號:019(公司電話費), 通話費:20元
編號:020(公司電話費), 通話費:4元
編號:021(公司電話費), 通話費:17元
編號:022(公司電話費), 通話費:14元
編號:023(公司電話費), 通話費:16元
------------------------------
總通話費:266元
------------------------------
```

